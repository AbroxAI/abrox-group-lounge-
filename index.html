<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Abrox â€“ Private Lounge</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#1c1f26">

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        bg:'#1c1f26',
        panel:'#232833',
        border:'#343a4a',
        muted:'#a0a6b5',
        accent:'#6bdba7',
        bubble:'#262b38',
        bubbleOut:'#2b3242'
      }
    }
  }
}
</script>

<style>
*{box-sizing:border-box}
.header{background:#232833;border-bottom:1px solid #343a4a}

.members-row,.typing-row{
  padding:0 16px;height:22px;font-size:12px;
  display:flex;align-items:center
}
.members-row{color:#a0a6b5}
.typing-row{gap:8px;font-weight:500;color:#6bdba7;display:none}
.typing-row.active{display:flex}
.members-row.hidden{display:none}

.typing-dots{display:flex;gap:3px}
.typing-dots span{
  width:4px;height:4px;border-radius:999px;
  background:#6bdba7;opacity:.25;
  animation:blink 1.4s infinite both
}
@keyframes blink{0%,80%,100%{opacity:.25}40%{opacity:1}}

.msg{display:flex;gap:8px;margin-bottom:8px;align-items:flex-end}
.msg.out{justify-content:flex-end}
.avatar{width:36px;height:36px;border-radius:999px}

.bubble{
  max-width:74%;padding:8px 14px;font-size:14px;
  line-height:1.45;position:relative;
  box-shadow:0 2px 8px rgba(0,0,0,.18)
}
.msg.in .bubble{background:#262b38;border-radius:8px 18px 18px 8px}
.msg.out .bubble{background:#2b3242;border-radius:18px 8px 8px 18px}

.sender{font-size:12px;font-weight:600;color:#6bdba7;margin-bottom:4px}
.time{font-size:10px;opacity:.65;margin-top:6px;display:flex;gap:4px;justify-content:flex-end}
.reactions span{font-size:11px}

</style>
</head>

<body class="bg-bg text-white h-[100dvh] overflow-hidden">
<main class="flex flex-col h-full">

<header class="header">
  <div class="flex items-center justify-between px-4 py-3">
    <div class="flex gap-3 items-center">
      <img src="assets/logo.png" class="w-9 h-9 rounded">
      <div>
        <div class="text-sm font-semibold">Abrox Binary Bot â€“ Private Lounge</div>
        <div class="flex items-center gap-1 text-xs text-muted">
          <i data-lucide="lock" class="w-3 h-3"></i>
          <span>Private Group</span>
        </div>
      </div>
    </div>
  </div>

  <div class="members-row" id="membersRow">
    Members: <strong>4,872</strong>
    <span class="mx-2">â€¢</span>
    Online: <strong id="onlineCount">13</strong>
  </div>

  <div class="typing-row" id="typingRow">
    <div class="typing-dots"><span></span><span></span><span></span></div>
    <span id="typingText"></span>
  </div>
</header>

<section id="chat" class="flex-1 overflow-y-auto px-4 py-4">
  <div class="text-center text-muted text-sm mb-4">
    ðŸ“Œ <strong>Group Rules</strong><br>
    New members are read-only until verified<br>
    Admins DM individually<br>
    No screenshots<br>
    Ignore unsolicited messages
  </div>
</section>

<footer class="bg-panel border-t border-border px-4 py-3">
  <input id="input" class="w-full bg-bg rounded-full px-4 py-2 text-sm outline-none" placeholder="Message">
</footer>

<script>
requestAnimationFrame(()=>lucide.createIcons());

const chat = document.getElementById('chat');
const membersRow = document.getElementById('membersRow');
const typingRow = document.getElementById('typingRow');
const typingText = document.getElementById('typingText');
const onlineCountEl = document.getElementById('onlineCount');

const ADMIN={name:'Profit Hunter ðŸŒ',avatar:'assets/admin.jpg'};
const MOD={name:'Kitty Star â­',avatar:'assets/mod.jpg'};
const members=[ADMIN,MOD,...Array.from({length:8},(_,i)=>({name:'Member_'+(i+1),avatar:'https://randomuser.me/api/portraits/men/'+(20+i)+'.jpg',lastActive:Date.now()}))];

setInterval(()=>{
  members.forEach(m=>{if(Math.random()>.6)m.lastActive=Date.now()});
  onlineCountEl.textContent=members.filter(m=>Date.now()-m.lastActive<90000).length;
},4000);

setInterval(()=>{
  if(Math.random()>.5){
    const names=members.slice(1).sort(()=>.5-Math.random()).slice(0,2).map(m=>m.name);
    typingText.textContent=names.join(' and ')+' typingâ€¦';
    typingRow.classList.add('active');
    membersRow.classList.add('hidden');
    setTimeout(()=>{
      typingRow.classList.remove('active');
      membersRow.classList.remove('hidden');
    },2000);
  }
},5000);

/* ===== PIN + REPLY + REACTIONS ===== */
let replyTo=null,pinnedId=null;
const reads=new Map(),reactions=new Map();

const pinBanner=document.createElement('div');
pinBanner.className='hidden bg-panel px-4 py-2 text-sm flex gap-2 cursor-pointer';
pinBanner.innerHTML='<i data-lucide="pin"></i><span id="pinText"></span>';
chat.before(pinBanner);

pinBanner.onclick=()=>document.querySelector(`[data-id="${pinnedId}"]`)?.scrollIntoView({behavior:'smooth'});

function postMessage(name,text){
  const id=crypto.randomUUID();
  const el=document.createElement('div');
  el.className='msg in';
  el.dataset.id=id;
  el.innerHTML=`
    <img class="avatar" src="${members.find(m=>m.name===name)?.avatar}">
    <div class="bubble">
      ${replyTo?`<div class="text-xs opacity-60 cursor-pointer" onclick="jump('${replyTo}')">${document.querySelector(`[data-id="${replyTo}"] .content`)?.textContent}</div>`:''}
      <div class="sender">${name}</div>
      <div class="content">${text}</div>
      <div class="reactions"></div>
      <div class="time"><i data-lucide="eye" class="w-3 h-3"></i> Seen</div>
    </div>`;
  chat.appendChild(el);
  replyTo=null;
  lucide.createIcons();
}

window.jump=id=>document.querySelector(`[data-id="${id}"]`)?.scrollIntoView({behavior:'smooth'});

setTimeout(()=>{
  postMessage(ADMIN.name,'Welcome everyone ðŸ‘‹ Please follow the rules.');
  postMessage(MOD.name,'Verified members can now chat.');
},800);
</script>

</main>
</body>
</html>
