<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Abrox – Private Lounge</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        bg:'#1c1f26',
        panel:'#232833',
        border:'#343a4a',
        muted:'#a0a6b5',
        accent:'#2ecc71',
        admin:'#f1c40f',
        bubble:'#262b38'
      }
    }
  }
}
</script>

<script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="bg-bg text-white h-screen overflow-hidden">

<div class="flex h-full">

<!-- ================= MAIN CHAT ================= -->
<main class="flex flex-col flex-1 border-r border-border">

<!-- HEADER -->
<header class="bg-panel border-b border-border px-4 py-3">
  <div class="flex justify-between items-start">

    <div class="flex gap-4">
      <i data-lucide="arrow-left" class="w-5 h-5 text-muted mt-1"></i>

      <div class="leading-tight space-y-1">
        <div class="text-sm font-semibold">
          Abrox Binary Bot – Private Lounge
        </div>
        <div class="flex items-center gap-1 text-xs text-muted">
          <i data-lucide="lock" class="w-3.5 h-3.5"></i>
          <span>Private Group</span>
        </div>
      </div>
    </div>

    <!-- MOBILE MEMBERS BUTTON -->
    <button class="md:hidden text-muted" onclick="openMembers()">
      <i data-lucide="users" class="w-5 h-5"></i>
    </button>

  </div>
</header>

<!-- MESSAGES -->
<section id="chatMessages"
  class="flex-1 px-4 overflow-y-auto space-y-4 pb-6">
</section>

<!-- INPUT -->
<footer class="bg-panel border-t border-border px-3 py-2 pb-[env(safe-area-inset-bottom)]">
  <div class="flex items-center gap-2 bg-bg rounded-full px-3 py-2 min-h-[44px]">

    <button type="button" class="text-muted">
      <i data-lucide="smile" class="w-5 h-5"></i>
    </button>

    <input
      id="chatInput"
      class="flex-1 bg-transparent outline-none text-sm placeholder-muted"
      placeholder="Message"
      autocomplete="off"
    />

    <button type="button" class="text-muted">
      <i data-lucide="paperclip" class="w-5 h-5"></i>
    </button>

    <button id="micBtn" type="button" class="text-muted">
      <i data-lucide="mic" class="w-5 h-5"></i>
    </button>

    <button
      id="sendBtn"
      type="button"
      class="hidden text-accent hover:opacity-80 transition"
    >
      <i data-lucide="send" class="w-5 h-5"></i>
    </button>

  </div>
</footer>

</main>

<!-- ================= DESKTOP SIDEBAR ================= -->
<aside
  id="desktopSidebar"
  class="hidden md:block w-80 bg-panel px-4 py-5 overflow-y-auto border-l border-border">
</aside>

</div>

<!-- ================= MOBILE SIDEBAR ================= -->
<div id="mobileMembers"
  class="fixed inset-0 bg-black/60 hidden z-50">

  <aside
    class="absolute right-0 top-0 h-full w-72 bg-panel px-4 py-5 overflow-y-auto">

    <div class="flex justify-between items-center mb-4">
      <span class="text-sm font-semibold">Members</span>
      <button onclick="closeMembers()">
        <i data-lucide="x" class="w-5 h-5 text-muted"></i>
      </button>
    </div>

    <div id="mobileSidebar"></div>

  </aside>
</div>

<!-- ================= MEMBERS TEMPLATE ================= -->
<template id="membersTemplate">
  <div class="space-y-6">

    <div>
      <div class="text-xs text-muted mb-2">ADMINS</div>
      <div class="flex items-center gap-3">
        <img src="https://i.pravatar.cc/32?img=12" class="w-8 h-8 rounded-full"/>
        <span class="text-sm text-admin">Sam_Admin</span>
        <span class="ml-auto w-2 h-2 bg-accent rounded-full"></span>
      </div>
    </div>

    <div>
      <div class="text-xs text-muted mb-2">MODERATORS</div>
      <div class="flex items-center gap-3">
        <img src="https://i.pravatar.cc/32?img=15" class="w-8 h-8 rounded-full"/>
        <span class="text-sm">Sara_mod</span>
      </div>
    </div>

    <div>
      <div class="text-xs text-muted mb-2">VERIFIED MEMBERS</div>
      <div class="flex items-center gap-3">
        <img src="https://i.pravatar.cc/32?img=32" class="w-8 h-8 rounded-full"/>
        <span class="text-sm">Mina_fx</span>
      </div>
    </div>

    <div>
      <div class="text-xs text-muted mb-2">PENDING</div>
      <div class="text-sm text-muted">newbie_021</div>
    </div>

  </div>
</template>

<script>
document.addEventListener('DOMContentLoaded', () => {

  lucide.createIcons();

  /* ===== SIDEBAR CLONE ===== */
  const tpl = document.getElementById('membersTemplate').content;
  document.getElementById('desktopSidebar').appendChild(tpl.cloneNode(true));
  document.getElementById('mobileSidebar').appendChild(tpl.cloneNode(true));

  /* ===== MOBILE SIDEBAR ===== */
  window.openMembers = function () {
    document.getElementById('mobileMembers').classList.remove('hidden');
  };

  window.closeMembers = function () {
    document.getElementById('mobileMembers').classList.add('hidden');
  };

  /* ===== CHAT LOGIC ===== */
  const chat = document.getElementById('chatMessages');
  const input = document.getElementById('chatInput');
  const micBtn = document.getElementById('micBtn');
  const sendBtn = document.getElementById('sendBtn');

  function toggleButtons() {
    const hasText = input.value.trim().length > 0;
    micBtn.classList.toggle('hidden', hasText);
    sendBtn.classList.toggle('hidden', !hasText);
  }

  function sendMessage() {
    const text = input.value.trim();
    if (!text) return;

    const msg = document.createElement('div');
    msg.className = 'flex justify-end';

    msg.innerHTML = `
      <div class="bg-accent/20 px-3 py-1.5 rounded-xl text-sm max-w-[70%]">
        ${text}
      </div>
    `;

    chat.appendChild(msg);
    input.value = '';
    toggleButtons();
    chat.scrollTop = chat.scrollHeight;
  }

  input.addEventListener('input', toggleButtons);
  input.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      e.preventDefault();
      sendMessage();
    }
  });

  sendBtn.addEventListener('click', sendMessage);

  toggleButtons();
});
</script>

</body>
</html>
